const summernoteS3uploader={signEndpoint:"",bucket:"",folder:"",filenamePrefix:"",maxFileSize:1024e3,expiration:"",file:"",editor:"",fileSlugify:function(e){var t=/[^\w\s-.]/g,a=/[-\s]+/g;return e=e.replace(t,"").trim().toLowerCase(),e=e.replace(a,"-")},getFolder:function(){return"string"==typeof this.folder?this.folder:this.folder()},getFilenamePrefix:function(){return"string"==typeof this.filenamePrefix?this.filenamePrefix:this.filenamePrefix()},sendImage:function(){var e={key:this.getFolder()+this.getFilenamePrefix()+this.fileSlugify(this.file.name),"Content-Type":this.file.type,success_action_status:"200","x-amz-storage-class":"REDUCED_REDUNDANCY",acl:"public-read",bucket:this.bucket},t,a=[],i=new FormData;for(var n in e)t={},t[n]=e[n],a.push(t),i.append(n,e[n]);a.push(["content-length-range",0,this.maxFileSize]);var r={},s;r.expiration=this.expiration,r.conditions=a,s=JSON.stringify(r),$.ajax({url:this.signEndpoint,type:"POST",data:s,dataType:"json",contentType:"application/json; charset=UTF-8",processData:!1,success:function(e){e.policy.length>0&&e.signature.length>0&&(i.delete("bucket"),i.append("policy",e.policy),i.append("x-amz-signature",e.signature),i.append("x-amz-date",e.x_amz_date),i.append("x-amz-credential",e.x_amz_credential),i.append("x-amz-algorithm",e.x_amz_algorithm),i.append("file",summernoteS3uploader.file),$.ajax({data:i,dataType:"xml",type:"POST",cache:!1,contentType:!1,processData:!1,url:"https://"+summernoteS3uploader.bucket+".s3.amazonaws.com/",success:function(e,t){if("success"===t){var a="https://"+summernoteS3uploader.bucket+".s3.amazonaws.com/"+summernoteS3uploader.getFolder()+summernoteS3uploader.getFilenamePrefix()+summernoteS3uploader.fileSlugify(summernoteS3uploader.file.name);summernoteS3uploader.editor.summernote("insertImage",a)}}}))}})}};